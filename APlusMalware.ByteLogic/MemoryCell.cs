namespace APlusMalware.ByteLogic
{
    using System;
    using LogicGraph;
    
    /// <summary>
    /// Outputs the old first input until the second input is not zero.
    /// </summary>
    public class MemoryCell : TwoInputSingleOutputLogicNode<Byte>
    {
        /// <summary>
        /// The old value.
        /// </summary>
        private Byte _output;

        /// <summary>
        /// Keeps the old left unless right is non-zero.
        /// </summary>
        /// <param name="left">The first byte.</param>
        /// <param name="right">The second byte.</param>
        /// <returns>The old or current left.</returns>
        protected override Byte Transform(Byte left, Byte right)
        {
            if (right != 0)
                _output = left;
            return _output;
        }
    }
}
